(this["webpackJsonpritani-github"]=this["webpackJsonpritani-github"]||[]).push([[0],{27:function(e,t,n){e.exports=n(49)},32:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(23),i=n.n(a),s=(n(32),n(19)),l=n(13),c=n(8),u=n(9),d=n(11),h=n(10),f=n(12),v="https://api.github.com/",g=1,m="",w=10,b=function(){return g},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.username,n=void 0===t?"":t,o=e.perPage,r=void 0===o?10:o,a=e.page,i=void 0===a?1:a;g=i,m=n,w=r},G=function(){g++},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return p({username:e,perPage:10,page:1}),new Promise((function(t,n){fetch("".concat(v,"users/").concat(e)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.json&&e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.username,n=void 0===t?"":t,o=e.perPage,r=void 0===o?w:o,a=e.page,i=void 0===a?1:a;return p({username:n,perPage:r,page:i}),new Promise((function(e,t){fetch("".concat(v,"users/").concat(n,"/followers?per_page=").concat(r,"&page=").concat(i)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.json&&e.json()})).then((function(t){if(!1===Array.isArray(t))throw new Error("invalid");e(t)})).catch((function(e){t(e)}))}))},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.perPage,n=void 0===t?w:t;return G(),new Promise((function(e,t){fetch("".concat(v,"users/").concat(m,"/followers?per_page=").concat(n,"&page=").concat(g)).then((function(e){return e.json&&e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))}))},U=!1,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.user,n=t.followerCount,o=t.followers,a=t.username,i=e.findGitHubUser,s=e.findGitHubUserChange,l=e.getGitHubFollowers,c=e.getNext;return r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.nativeEvent.preventDefault(),U?U=!1:a.length>3&&i()}},r.a.createElement("input",{id:"findGithubUser",type:"text",value:a,autoFocus:!0,onChange:s,placeholder:"GitHub User"}),a.length>=3&&r.a.createElement("button",{key:"findGitHubUser_btn",onClick:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];U=!0,i()}},"Find GitHub User"),n>0&&r.a.createElement("button",{key:"getGitHubFollowersClick_btn",onClick:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];U=!0,l()}},"Find GitHub User Followers"),o.length>0&&n>o.length&&r.a.createElement("button",{key:"getNext_btn",onClick:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];U=!0,c()}},"Load More...")))};C.defaultProps={index:-1,user:{},findGitHubUser:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},findGitHubUserChange:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},getGitHubFollowers:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},getNext:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}};var j=C,y=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this,n))).getFollowers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props.getGitHubFollowers,o=t.nativeEvent.target.dataset.username;o&&n(t,o)},e.getUser=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props.findGitHubUser,o=t.nativeEvent.target.dataset.username;o&&n(t,o)},e.scrollRef=r.a.createRef(),e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){this.scrollRef.current&&(this.scrollRef.current.scrollTop=0);var e=this.props,t=e.showFollowers,n=e.user,o=(n=void 0===n?{}:n).id,a=n.avatar_url,i=n.username,s=n.followers,l=void 0===s?[]:s,c=t&&l.length&&l.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.a.createElement("div",{className:"avatar",key:"follower_".concat(e.id)},r.a.createElement("img",{src:e.avatar_url,alt:e.avatar_url,"data-username":"".concat(e.login),title:"follower ".concat(e.login)}),r.a.createElement("div",{className:"user-name","data-username":"".concat(e.login)},e.login))})),u=!t&&i&&r.a.createElement("div",{className:"avatar",key:o},a&&r.a.createElement("img",{src:a,alt:a,"data-username":"".concat(i),title:"user ".concat(i)}),r.a.createElement("div",{className:"user-name","data-username":"".concat(i)},i)),d=r.a.createElement("div",null,"No GitHub User"),h=c||u||d;return c?r.a.createElement("div",{id:"followers-display",ref:this.scrollRef,onClick:this.getUser},h):u?r.a.createElement("div",{id:"followers-display",ref:this.scrollRef,onClick:this.getFollowers},h):r.a.createElement("div",{id:"followers-display"},h)}}]),t}(o.Component);y.defaultProps={user:{},findGitHubUser:function(e){},getGitHubFollowers:function(e){}};var k=y,O=n(24),x=n(16),N=n.n(x),P=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this,n))).findGitHubUser=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=e.props.history,r=e.state.user,a=(r=void 0===r?{}:r).username,i=r.followers,s=r.id;n||o.push("?username=".concat(t||a)),E(t||a).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({showFollowers:!1,index:b(),user:Object(l.a)({},n,{username:t||a,followerCount:n.followers,followers:s===n.id?i:[]})})})).catch((function(e){console.error(e)}))},e.findGitHubUserChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.target.value,o={username:n,followers:[],followerCount:0};e.setState({user:o})},e.getGitHubFollowers=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=e.state.user,r=(o=void 0===o?{}:o).username,a=o.followerCount,i=e.props.history;n||i.push("?username=".concat(r,"&followers=true")),H({username:t||r}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.setState({showFollowers:!0,index:b(),user:Object(l.a)({},e.state.user,{followers:t,followerCount:a})})})).catch((function(e){console.error(e)}))},e.getNext=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=e.state.user,n=(t=void 0===t?{}:t).followers,o=void 0===n?[]:n,r=t.followerCount;F().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.setState({index:b(),user:Object(l.a)({},e.state.user,{followers:[].concat(Object(s.a)(t),Object(s.a)(o)),followerCount:r})})})).catch((function(e){console.error(e)}))},e.state={index:b(),showFollowers:!1,user:{id:0,username:"",followers:[],followerCount:0}},e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,o=t.location,r=N.a.parse(o.search).username;r&&this.findGitHubUser("",r),this.backListener=n.listen((function(t,n){if("POP"===n){var o=N.a.parse(t.search),r=o.username,a=o.followers;a&&"true"===a?r&&e.getGitHubFollowers("",r,!0):r&&e.findGitHubUser("",r,!0)}}))}},{key:"shouldComponentUpdate",value:function(e,t,n){return!(Object(O.isEqual)(t.user,this.state.user)&&this.state.showFollowers===t.showFollowers)}},{key:"render",value:function(){var e=this.state,t=e.showFollowers,n=e.index,o=e.user,a=(o=void 0===o?{}:o).username,i=o.followers,s=o.followerCount,l=this.state.user,c=void 0===l?{}:l,u=t?"Followers":"Github User";return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},u,r.a.createElement(k,{user:c,showFollowers:t,findGitHubUser:this.findGitHubUser,getGitHubFollowers:this.getGitHubFollowers})),r.a.createElement("main",{className:"App-main"},r.a.createElement("div",{id:"result"},r.a.createElement("div",null,"handle: ",a),r.a.createElement("div",null,"followers displayed: ",i.length),r.a.createElement("div",null,"total followers: ",s)),r.a.createElement(j,{index:n,user:this.state.user,findGitHubUser:this.findGitHubUser,getGitHubFollowers:this.getGitHubFollowers,getNext:this.getNext,findGitHubUserChange:this.findGitHubUserChange})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(15),R=n(5),A=n(2),S=Object(A.a)();i.a.render(r.a.createElement(_.a,{history:S},r.a.createElement(R.a,{path:"/",component:P,forceRefresh:!0})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.fdd0b8f1.chunk.js.map